import{m as p,u as m,q as f,c as r,a as h,o as n,b as c,d as t,t as d,i as V,y,F as g,x as b,e as K}from"./vendor.aa070026.js";import{_ as k,v,A as a,P as u,k as w,l as x}from"./index.feb19a13.js";const C={setup(){const s=p(),o=m();return f(async()=>{setTimeout(async()=>{try{o.params.id==null?s.push({name:"Home"}):(await v.getVaultsById(o.params.id),a.activeVault.isPrivate&&a.account.id!=a.activeVault.creatorId&&(u.toast("This vault is set to private by it's creator."),s.push({name:"Home"})),await w.getVaultKeeps(a.activeVault.id))}catch{s.push({name:"Home"})}},1e3)}),{async deleteVault(i){try{await u.confirm()&&(await v.deleteVault(i),s.push({name:"Account"}))}catch(e){x.error(e),u.toast(e.message,"error")}},vault:r(()=>a.activeVault),activeKeeps:r(()=>a.activeVaultKeeps),account:r(()=>a.account),vaultKeepCount:r(()=>a.activeVaultKeeps.length)}}},P={class:"container"},B={class:"row mt-5"},I={class:"col-12 mt-3 d-flex justify-content-between"},S={class:"mb-0 f-38"},j={class:"ms-2 mt-1"},A={key:0},D={class:"row"},H={class:"masonry-container"};function N(s,o,i,e,F,M){const _=h("Keep");return n(),c("div",P,[t("div",B,[t("div",I,[t("div",null,[t("h1",S,d(e.vault.name),1),t("h4",j,"Keeps: "+d(e.vaultKeepCount),1)]),e.vault.creatorId==e.account.id?(n(),c("div",A,[t("button",{type:"submit",class:"btn border border-info mt-4",title:"Delete Vault",onClick:o[0]||(o[0]=V(l=>e.deleteVault(e.vault.id),["stop"]))}," Delete Vault ")])):y("",!0)])]),t("div",D,[t("div",H,[(n(!0),c(g,null,b(e.activeKeeps,l=>(n(),c("div",{key:l.id},[K(_,{keep:l},null,8,["keep"])]))),128))])])])}var q=k(C,[["render",N],["__scopeId","data-v-9ee8ea78"]]);export{q as default};
